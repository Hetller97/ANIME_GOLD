<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/doe1glpxm/image/upload/v1737294905/icon_hqujqg.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <title>أنمي غولد</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="style.css">
  <title>إدارة نقاط الفرق</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      display: flex;
      justify-content: space-between;
      padding: 20px;
    }
    .container {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }
    .control-panel {
      width: 30%;
      color: aliceblue;
      padding: 20px;
      background-color: #292929;
      border-radius: 10px;
      border: 1px solid white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    .control-panel h2 {
      margin-bottom: 20px;
    }
    .control-panel input {
      width: 60%;
      padding: 8px;
      margin-right: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .control-panel button {
      padding: 8px 15px;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    #resetPointsBtn {
      background-color: #ff5733;
      position: absolute;
      bottom: 20px;
      left: 20px;
      width: 90%;
    }
    .tables-panel {
      width: 65%;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-gap: 20px;
    }
    .table {
      background-color: #292929;
      color: aliceblue;
      border-radius: 10px;
      border: 1px solid #ccc;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .table h3 {
      margin-bottom: 15px;
      text-align: center;
    }
    .team {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      padding: 5px;
    }
    .team span {
      font-weight: bold;
      min-width: 50px;
    }
    .team button {
      padding: 5px 10px;
      border: none;
      background-color: #28a745;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .team button.remove {
      background-color: #dc3545;
    }
    .team input {
      width: 50px;
      padding: 3px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    .team.selected {
      border: 2px solid #28a745;
    }

    @media (max-width: 768px) {
  body {
    flex-direction: column;
    padding: 10px;
  }

  .container {
    flex-direction: column;
    gap: 20px;
  }

  .control-panel,
  .tables-panel {
    width: 100%;
  }

  .control-panel input {
    width: 100%;
    margin-bottom: 10px;
  }

  .control-panel button,
  #resetPointsBtn {
    width: 100%;
    font-size: 14px;
    padding: 8px;
  }

  .table {
    padding: 15px;
  }

  .table h3 {
    font-size: 18px;
  }

  .team {
    flex-wrap: wrap;
    padding: 4px;
    margin-bottom: 6px;
  }

  .team span {
    font-size: 13px;
    min-width: 40px;
  }

  .team input {
    width: 35px;
    font-size: 13px;
    padding: 2px;
  }

  .team button {
    font-size: 12px;
    padding: 4px 8px;
  }
}


  </style>
</head>
<body style="margin-top:100PX ;">
        <!-- الهيدر -->
        <header>
            <div class="logo">
                <a href="index.html" ><img src="https://res.cloudinary.com/doe1glpxm/image/upload/v1737294905/icon_hqujqg.png" alt="Logo"></a>
            </div>
            <nav class="nav">
                <a href="anime_gold.html">رئيسية</a>
                <a href="info.html">معلومات</a>
                <a href="contactus.html">اتصل بنا</a>
                
            </nav>
        </header>
    

<div class="container">
  <!-- لوحة التحكم -->
  <div class="control-panel">
    <h2>إضافة فريق</h2>
    <input type="text" id="teamName" placeholder="أدخل اسم الفريق"><br><br>
    <button id="addTeamBtn">إضافة فريق</button>

    <h3 style="margin-top: 30PX;">إعادة تعيين البيانات</h3><br>
    <button id="resetBtn">إعادة تعيين الفرق</button>
    <button id="resetPointsBtn" style="width: 120PX;">إعادة تعيين النقاط</button><br><br>

    <button id="deleteTeamBtn" style="margin-top: 20px; background-color: #dc3545;">حذف الفريق المحدد</button><br><br><br><br><br><br><br>
  </div>

  <!-- الجداول -->
  <div class="tables-panel">
    <div class="table" data-table="النينجا:عشيرة"><h3>النينجا : عشيرة</h3><div class="teams"></div></div>
    <div class="table" data-table="بليتش :فرقة"><h3>بليتش : فرقة</h3><div class="teams"></div></div>
    <div class="table" data-table="العمالقة:لواء"><h3>العمالقة : لواء</h3><div class="teams"></div></div>
    <div class="table" data-table="القراصنة : قراصنة"><h3>القراصنة : قراصنة</h3><div class="teams"></div></div>
    <div class="table" data-table="الاباطرة : فيلق"><h3>الاباطرة : فيلق</h3><div class="teams"></div></div>
    <div class="table" data-table="المماليك : مملكة"><h3>المماليك : مملكة</h3><div class="teams"></div></div>
    <div class="table" data-table="المافيا: مافيا"><h3>المافيا : مافيا</h3><div class="teams"></div></div>
    <div class="table" data-table="الفايكينغ : كتيبة"><h3>الفايكينغ : كتيبة</h3><div class="teams"></div></div>
    <div class="table" data-table="نوفا حامية"><h3>نوفا : حامية</h3><div class="teams"></div></div>
    <div class="table" data-table="الفراعنة : فراعنة"><h3>الفراعنة : فراعنة</h3><div class="teams"></div></div>
  </div>
</div>

<script>
  const teamInput = document.getElementById('teamName');
  const addTeamBtn = document.getElementById('addTeamBtn');
  const resetBtn = document.getElementById('resetBtn');
  const resetPointsBtn = document.getElementById('resetPointsBtn');
  const deleteTeamBtn = document.getElementById('deleteTeamBtn');
  let selectedTable = null;

  // تحديد الإقليم عند الضغط على الجدول
  document.querySelectorAll('.table').forEach(table => {
    table.addEventListener('click', () => {
      selectedTable = table.dataset.table;
      document.querySelectorAll('.table').forEach(t => t.style.border = '');
      table.style.border = '2px solid #007bff';
    });
  });

  // إنشاء عنصر الفريق
  function createTeamElement(name, points) {
    const teamDiv = document.createElement('div');
    teamDiv.classList.add('team');

    const teamNameSpan = document.createElement('span');
    teamNameSpan.textContent = name;

    const pointsSpan = document.createElement('span');
    pointsSpan.textContent = points;

    const addBtn = document.createElement('button');
    addBtn.textContent = '+';
    addBtn.addEventListener('click', () => {
      pointsSpan.textContent = parseInt(pointsSpan.textContent) + 1;
      saveData();
    });

    const removeBtn = document.createElement('button');
    removeBtn.textContent = '-';
    removeBtn.classList.add('remove');
    removeBtn.addEventListener('click', () => {
      pointsSpan.textContent = Math.max(0, parseInt(pointsSpan.textContent) - 1);
      saveData();
    });

    const numberInput = document.createElement('input');
    numberInput.type = 'number';
    numberInput.min = 0;
    numberInput.placeholder = "رقم";

    const addNumBtn = document.createElement('button');
    addNumBtn.textContent = '➕';
    addNumBtn.addEventListener('click', () => {
      const val = parseInt(numberInput.value);
      if (!isNaN(val)) {
        pointsSpan.textContent = parseInt(pointsSpan.textContent) + val;
        saveData();
      }
    });

    const subNumBtn = document.createElement('button');
    subNumBtn.textContent = '➖';
    subNumBtn.classList.add('remove');
    subNumBtn.addEventListener('click', () => {
      const val = parseInt(numberInput.value);
      if (!isNaN(val)) {
        pointsSpan.textContent = Math.max(0, parseInt(pointsSpan.textContent) - val);
        saveData();
      }
    });

    // تحديد الفريق
    teamDiv.addEventListener('click', (e) => {
      e.stopPropagation();
      document.querySelectorAll('.team').forEach(div => {
        div.classList.remove('selected');
        div.style.border = '';
      });
      teamDiv.classList.add('selected');
      teamDiv.style.border = '2px solid #28a745';
    });

    teamDiv.appendChild(teamNameSpan);
    teamDiv.appendChild(pointsSpan);
    teamDiv.appendChild(addBtn);
    teamDiv.appendChild(removeBtn);
    teamDiv.appendChild(numberInput);
    teamDiv.appendChild(addNumBtn);
    teamDiv.appendChild(subNumBtn);

    return teamDiv;
  }

  // إضافة فريق
  addTeamBtn.addEventListener('click', () => {
    const teamName = teamInput.value.trim();
    if (teamName && selectedTable) {
      const teamsDiv = document.querySelector(`.table[data-table="${selectedTable}"] .teams`);
      const teamDiv = createTeamElement(teamName, 0);
      teamsDiv.appendChild(teamDiv);
      saveData();
      teamInput.value = '';
    } else {
      alert('يرجى اختيار جدول وإدخال اسم الفريق');
    }
  });

  // إعادة تعيين كل البيانات
  resetBtn.addEventListener('click', () => {
    if (confirm('هل تريد إعادة تعيين جميع البيانات؟')) {
      localStorage.removeItem('teamsData');
      document.querySelectorAll('.teams').forEach(teamsDiv => teamsDiv.innerHTML = '');
      selectedTable = null;
    }
  });

  // إعادة تعيين النقاط فقط
// إعادة تعيين النقاط فقط
resetPointsBtn.addEventListener('click', () => {
    const confirmReset = confirm("هل أنت متأكد أنك تريد إعادة تعيين النقاط؟ هذه العملية لا يمكن التراجع عنها.");
    if (confirmReset) {
        document.querySelectorAll('.team span:nth-child(2)').forEach(pointsSpan => {
            pointsSpan.textContent = 0;
        });
        saveData();
    } else {
        console.log("تم إلغاء إعادة تعيين النقاط");
    }
});


  // زر حذف الفريق المحدد
  deleteTeamBtn.addEventListener('click', () => {
    const selectedTeam = document.querySelector('.team.selected');
    if (!selectedTeam) {
      alert('لا يمكن حذف إقليم حدد فريق');
      return;
    }
    if (confirm('هل تريد حذف هذا الفريق؟')) {
      selectedTeam.remove();
      saveData();
    }
  });

  // حفظ البيانات
  function saveData() {
    const teamsData = {};
    document.querySelectorAll('.table').forEach(table => {
      const tableName = table.dataset.table;
      const teams = [];
      table.querySelectorAll('.team').forEach(teamDiv => {
        const name = teamDiv.querySelector('span').textContent;
        const points = teamDiv.querySelector('span:nth-child(2)').textContent;
        teams.push({ name, points });
      });
      teamsData[tableName] = teams;
    });
    localStorage.setItem('teamsData', JSON.stringify(teamsData));
  }

  // تحميل البيانات
  function loadData() {
    const teamsData = JSON.parse(localStorage.getItem('teamsData'));
    if (teamsData) {
      for (const [tableName, teams] of Object.entries(teamsData)) {
        const teamsDiv = document.querySelector(`.table[data-table="${tableName}"] .teams`);
        teams.forEach(team => {
          const teamDiv = createTeamElement(team.name, team.points);
          teamsDiv.appendChild(teamDiv);
        });
      }
    }
  }

  loadData();
</script>

</body>
</html>
